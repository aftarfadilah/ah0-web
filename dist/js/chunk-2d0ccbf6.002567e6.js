(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0ccbf6"],{"4ef5":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"user"},[a("h1",[e._v("setting - info")]),a("label",[e._v("username")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.user_username,expression:"user_username"}],attrs:{id:"username",type:"text",placeholder:"Kirito"},domProps:{value:e.user_username},on:{input:function(t){t.target.composing||(e.user_username=t.target.value)}}}),a("br"),a("label",[e._v("e-mail")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.user_email,expression:"user_email"}],attrs:{id:"email",type:"text",placeholder:"kirito@sao.com"},domProps:{value:e.user_email},on:{input:function(t){t.target.composing||(e.user_email=t.target.value)}}}),a("br"),a("label",[e._v("nickname")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.user_nickname,expression:"user_nickname"}],attrs:{id:"nickname",type:"text",placeholder:"nickname"},domProps:{value:e.user_nickname},on:{input:function(t){t.target.composing||(e.user_nickname=t.target.value)}}}),a("br"),a("label",[e._v("about")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.user_about,expression:"user_about"}],attrs:{placeholder:"about uuu"},domProps:{value:e.user_about},on:{input:function(t){t.target.composing||(e.user_about=t.target.value)}}}),a("br"),a("button",{attrs:{type:"submit"},on:{click:e.handleSubmit}},[e._v("update info")]),a("br"),a("br"),a("h1",[e._v("setting - password")]),a("label",[e._v("old password")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.password_ori,expression:"password_ori"}],attrs:{id:"password_ori",type:"password",placeholder:"old password"},domProps:{value:e.password_ori},on:{input:function(t){t.target.composing||(e.password_ori=t.target.value)}}}),a("br"),a("label",[e._v("new password")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.password_new,expression:"password_new"}],attrs:{id:"password_new",type:"password",placeholder:"new password"},domProps:{value:e.password_new},on:{input:function(t){t.target.composing||(e.password_new=t.target.value)}}}),a("br"),a("label",[e._v("retype new password")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.password_new_retype,expression:"password_new_retype"}],attrs:{id:"password_new_retype",type:"password",placeholder:"retype new password"},domProps:{value:e.password_new_retype},on:{input:function(t){t.target.composing||(e.password_new_retype=t.target.value)}}}),a("br"),a("button",{attrs:{type:"submit",disabled:!e.validDataPW},on:{click:e.handleSubmitPW}},[e._v(" update password ")]),a("br"),a("br"),a("h1",[e._v("setting - image profile")]),a("div",{staticClass:"center-cropped"},[a("img",{attrs:{src:e.user_image_profile}})]),a("br"),a("input",{ref:"image_profile_file",attrs:{type:"file"},on:{change:e.selectFile}}),a("br"),a("button",{attrs:{type:"submit",disabled:!e.image_profile_file},on:{click:e.handleSubmitImageProfile}},[e._v(" update image profile ")]),a("Modal",{ref:"modalok"})],1)},s=[],o=(a("96cf"),a("1da1")),n=a("2b94"),i={name:"Setting",data:function(){return{user_nickname:"error",user_username:"error",user_email:"error",user_about:"error",user_image_profile:"/asset/img/profile.jpg",user_image_banner:"error",password_ori:null,password_new:null,password_new_retype:null,image_profile_file:null}},components:{Modal:n["a"]},props:{msg:String},methods:{renderData:function(e){this.user_nickname=e["data_auth"]["data_user"]["nickname"],this.user_username=e["data_auth"]["data_user"]["username"],this.user_email=e["data_auth"]["data_user"]["email"],this.user_about=e["data_auth"]["data_user"]["about"],this.user_image_profile=e["data_auth"]["data_user"]["image_profile"],this.user_image_banner=e["data_auth"]["data_user"]["image_banner"]},handleSubmit:function(e){var t=this;e.preventDefault(),this.$refs.modalok.show("loading"),this.$auth.updateInfo(this.user_username,this.user_nickname,this.user_email,this.user_about).then((function(e){t.$refs.modalok.show("dialog",{title:"info",content:e.message,buttons:[{title:"close"}]})})).catch((function(e){console.error(e.response)}))},handleSubmitPW:function(e){var t=this;e.preventDefault(),this.$refs.modalok.show("loading"),this.$auth.updatePassword(this.password_ori,this.password_new,this.password_new_retype).then((function(e){t.$refs.modalok.show("dialog",{title:"info",content:e.message,buttons:[{title:"close"}]}),0==e.error&&(t.password_ori=null,t.password_new=null,t.password_new_retype=null)})).catch((function(e){console.error(e.response)}))},selectFile:function(){this.image_profile_file=this.$refs.image_profile_file.files},handleSubmitImageProfile:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:e.preventDefault(),t.$refs.modalok.show("loading"),t.$auth.updateImageProfile(t.image_profile_file).then((function(e){t.$refs.modalok.show("dialog",{title:"info",content:e.message,buttons:[{title:"close"}]}),0==e.error&&(t.user_image_profile=e.data_image["url"],t.$refs.image_profile_file.value=null)})).catch((function(e){console.error(e.response)}));case 3:case"end":return a.stop()}}),a)})))()}},computed:{validDataPW:function(){return this.password_ori&&this.password_new&&this.password_new_retype&&this.password_new==this.password_new_retype}},mounted:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$auth.getInfoAuth(e.$auth.getAuthText());case 2:a=t.sent,e.renderData(a);case 4:case"end":return t.stop()}}),t)})))()}},u=i,l=a("2877"),p=Object(l["a"])(u,r,s,!1,null,null,null);t["default"]=p.exports}}]);
//# sourceMappingURL=chunk-2d0ccbf6.002567e6.js.map