(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0a4c1e"],{"0899":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"user"},[n("h1",[t._v("kami edit "),n("router-link",{attrs:{to:"/kami/manage"}},[t._v("[back to manage]")])],1),n("table",{staticClass:"fit-form"},[n("tr",[t._m(0),n("td",[t._v(":")]),n("td",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.titlezz,expression:"titlezz"}],attrs:{required:"",id:"titlezz",type:"text",placeholder:"my story about love"},domProps:{value:t.titlezz},on:{input:function(e){e.target.composing||(t.titlezz=e.target.value)}}})])]),n("tr",[t._m(1),n("td",[t._v(":")]),n("td",[n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.descriptionzz,expression:"descriptionzz"}],attrs:{id:"descriptionzz",placeholder:"this is story about young boy who stupid and ....."},domProps:{value:t.descriptionzz},on:{input:function(e){e.target.composing||(t.descriptionzz=e.target.value)}}})])]),n("tr",[t._m(2),n("td",[t._v(":")]),n("td",[n("select",{directives:[{name:"model",rawName:"v-model",value:t.status,expression:"status"}],attrs:{id:"status"},on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.status=e.target.multiple?n:n[0]}}},[n("option",{attrs:{name:"private"}},[t._v("private")]),n("option",{attrs:{name:"unlist"}},[t._v("unlist")]),n("option",{attrs:{name:"profile"}},[t._v("only on profile")]),n("option",{attrs:{name:"public"}},[t._v("public")])])])]),n("tr",[t._m(3),n("td",[t._v(":")]),n("td",[n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.contentya,expression:"contentya"}],attrs:{placeholder:"hey, this is my story ...."},domProps:{value:t.contentya},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"tab",9,e.key,"Tab")?null:t.mantapkun(e)},input:function(e){e.target.composing||(t.contentya=e.target.value)}}})])]),n("tr",[n("td",{attrs:{colspan:"3"}},[n("button",{staticStyle:{float:"right"},attrs:{disabled:!t.validData,type:"submit"},on:{click:t.handleSubmit}},[t._v(" update post ")])])])]),n("h3",[t._v("preview")]),n("div",{domProps:{innerHTML:t._s(t.compiledMarkdown)}}),n("Modal",{ref:"modalok"})],1)},a=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("td",{attrs:{width:"130"}},[n("label",[t._v("title")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("td",[n("label",[t._v("description")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("td",[n("label",[t._v("status")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("td",[n("label",[t._v("content")])])}],s=(n("a4d3"),n("e01a"),n("a15b"),n("ac1f"),n("1276"),n("2ca0"),n("96cf"),n("1da1")),o=n("2b94"),r={data:function(){return{titlezz:"",descriptionzz:"",status:"",contentya:""}},components:{Modal:o["a"]},computed:{compiledMarkdown:function(){return this.$marked(this.contentya,{sanitize:!0})},validData:function(){return this.titlezz&&this.descriptionzz&&this.status&&this.contentya}},methods:{mantapkun:function(t){if(console.log("xx"),27==t.keyCode)return this.enabled=!this.enabled,!1;if(13===t.keyCode&&this.enabled&&(t.preventDefault(),t.stopPropagation(),this.selectionStart==this.selectionEnd)){var e=this.selectionStart,n=this.contentya;while(e>0&&"\n"!=n[e-1])e--;var i=e;while(" "==n[e]||"\t"==n[e])e++;if(e>i)return document.execCommand("insertText",!1,"\n"+n.substr(i,e-i)),this.blur(),this.focus(),!1}if(9===t.keyCode&&this.enabled){if(this.selectionStart==this.selectionEnd)if(t.shiftKey){var a=this.value;this.selectionStart>0&&"\t"==a[this.selectionStart-1]&&document.execCommand("delete")}else document.execCommand("insertText",!1,"\t");else{var s=this.selectionStart,o=this.selectionEnd,r=this.contentya;while(s>0&&"\n"!=r[s-1])s--;while(o>0&&"\n"!=r[o-1]&&o<r.length)o++;for(var l=r.substr(s,o-s).split("\n"),c=0;c<l.length;c++)c==l.length-1&&0==l[c].length||(t.shiftKey?l[c].startsWith("\t")?l[c]=l[c].substr(1):l[c].startsWith("    ")&&(l[c]=l[c].substr(4)):l[c]="\t"+l[c]);l=l.join("\n"),this.value=r.substr(0,s)+l+r.substr(o),this.selectionStart=s,this.selectionEnd=s+l.length}return!1}return this.enabled=!0,!0},handleSubmit:function(t){var e=this;t.preventDefault(),this.$refs.modalok.show("loading"),this.$auth.updatekami(this.titlezz,this.descriptionzz,this.status,this.contentya,this.$route.params.codeURL).then((function(t){t.error,e.$refs.modalok.show("dialog",{title:"info",content:t.message,buttons:[{title:"close"}]})})).catch((function(t){console.error(t.response)}))}},mounted:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var n,i,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$dataContent.getOneContent(t.$route.params.codeURL);case 2:n=e.sent,i=n["detail"],a=n["content"],t.contentya=i["content"],t.descriptionzz=a["description"],t.titlezz=a["title"],"profile"==a["status"]&&(a["status"]="only on profile"),t.status=a["status"];case 10:case"end":return e.stop()}}),e)})))()}},l=r,c=n("2877"),u=Object(c["a"])(l,i,a,!1,null,null,null);e["default"]=u.exports}}]);
//# sourceMappingURL=chunk-2d0a4c1e.47829680.js.map