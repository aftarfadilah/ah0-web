{"remainingRequest":"C:\\Users\\datoyacx\\ba-ka\\ah0-web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\datoyacx\\ba-ka\\ah0-web\\src\\views\\Setting.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\datoyacx\\ba-ka\\ah0-web\\src\\views\\Setting.vue","mtime":1590573356192},{"path":"C:\\Users\\datoyacx\\ba-ka\\ah0-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\datoyacx\\ba-ka\\ah0-web\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\datoyacx\\ba-ka\\ah0-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\datoyacx\\ba-ka\\ah0-web\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgTW9kYWwgZnJvbSAnLi4vbW9kYWwnDQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICJTZXR0aW5nIiwNCiAgZGF0YSgpIHsNCiAgCXJldHVybiB7DQogIAkJdXNlcl9uaWNrbmFtZTogJ2Vycm9yJywNCiAgCQl1c2VyX3VzZXJuYW1lOiAnZXJyb3InLA0KICAJCXVzZXJfZW1haWw6ICdlcnJvcicsDQogIAkJdXNlcl9hYm91dDogJ2Vycm9yJywNCiAgCQl1c2VyX2ltYWdlX3Byb2ZpbGU6ICcvYXNzZXQvaW1nL3Byb2ZpbGUuanBnJywNCiAgCQl1c2VyX2ltYWdlX2Jhbm5lcjogJ2Vycm9yJywNCiAgCQlwYXNzd29yZF9vcmk6IG51bGwsDQogIAkJcGFzc3dvcmRfbmV3OiBudWxsLA0KICAJCXBhc3N3b3JkX25ld19yZXR5cGU6IG51bGwsDQogIAkJaW1hZ2VfcHJvZmlsZV9maWxlOiBudWxsDQogIAl9DQogIH0sDQogIGNvbXBvbmVudHM6IHsgTW9kYWx9LA0KICBwcm9wczogew0KICAgIG1zZzogU3RyaW5nDQogIH0sDQogIG1ldGhvZHM6IHsNCiAgCXJlbmRlckRhdGEobG9sKSB7DQogIAkJLy9jb25zb2xlLmxvZyhsb2wpOw0KCQl0aGlzLnVzZXJfbmlja25hbWUgPSBsb2xbJ2RhdGFfYXV0aCddWydkYXRhX3VzZXInXVsnbmlja25hbWUnXQ0KCQl0aGlzLnVzZXJfdXNlcm5hbWUgPSBsb2xbJ2RhdGFfYXV0aCddWydkYXRhX3VzZXInXVsndXNlcm5hbWUnXQ0KCQl0aGlzLnVzZXJfZW1haWwgPSBsb2xbJ2RhdGFfYXV0aCddWydkYXRhX3VzZXInXVsnZW1haWwnXQ0KCQl0aGlzLnVzZXJfYWJvdXQgPSBsb2xbJ2RhdGFfYXV0aCddWydkYXRhX3VzZXInXVsnYWJvdXQnXQ0KCQl0aGlzLnVzZXJfaW1hZ2VfcHJvZmlsZSA9IGxvbFsnZGF0YV9hdXRoJ11bJ2RhdGFfdXNlciddWydpbWFnZV9wcm9maWxlJ10NCgkJdGhpcy51c2VyX2ltYWdlX2Jhbm5lciA9IGxvbFsnZGF0YV9hdXRoJ11bJ2RhdGFfdXNlciddWydpbWFnZV9iYW5uZXInXQ0KICAJfSwNCiAgCWhhbmRsZVN1Ym1pdChlKXsNCiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCkNCiAgICAgICAgICAgICAgICB0aGlzLiRyZWZzLm1vZGFsb2suc2hvdygnbG9hZGluZycpDQogICAgICAgICAgICAgICAgdGhpcy4kYXV0aC51cGRhdGVJbmZvKHRoaXMudXNlcl91c2VybmFtZSwgdGhpcy51c2VyX25pY2tuYW1lLCB0aGlzLnVzZXJfZW1haWwsIHRoaXMudXNlcl9hYm91dCkudGhlbihyZXNwb25zZT0+ew0KICAgICAgICAgICAgICAgIAl0aGlzLiRyZWZzLm1vZGFsb2suc2hvdygnZGlhbG9nJywgDQogICAgICAgICAgICAgICAgCXsNCiAgICAgICAgICAgICAgICAJCXRpdGxlOiAiaW5mbyIsDQogICAgICAgICAgICAgICAgCQljb250ZW50OiByZXNwb25zZS5tZXNzYWdlLA0KICAgICAgICAgICAgICAgIAkJYnV0dG9uczogWyANCiAgICAgICAgICAgICAgICAJCXsgDQogICAgICAgICAgICAgICAgCQkJdGl0bGU6ICJjbG9zZSINCiAgICAgICAgICAgICAgICAJCX0gXQ0KICAgICAgICAgICAgICAgIAl9KQ0KICAgICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgew0KICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yLnJlc3BvbnNlKTsNCiAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIH0sDQogIAloYW5kbGVTdWJtaXRQVyhlKXsNCiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCkNCiAgICAgICAgICAgICAgICB0aGlzLiRyZWZzLm1vZGFsb2suc2hvdygnbG9hZGluZycpDQogICAgICAgICAgICAgICAgdGhpcy4kYXV0aC51cGRhdGVQYXNzd29yZCh0aGlzLnBhc3N3b3JkX29yaSwgdGhpcy5wYXNzd29yZF9uZXcsIHRoaXMucGFzc3dvcmRfbmV3X3JldHlwZSkudGhlbihyZXNwb25zZT0+ew0KICAgICAgICAgICAgICAgIAl0aGlzLiRyZWZzLm1vZGFsb2suc2hvdygnZGlhbG9nJywgDQogICAgICAgICAgICAgICAgCXsNCiAgICAgICAgICAgICAgICAJCXRpdGxlOiAiaW5mbyIsDQogICAgICAgICAgICAgICAgCQljb250ZW50OiByZXNwb25zZS5tZXNzYWdlLA0KICAgICAgICAgICAgICAgIAkJYnV0dG9uczogWyANCiAgICAgICAgICAgICAgICAJCXsgDQogICAgICAgICAgICAgICAgCQkJdGl0bGU6ICJjbG9zZSINCiAgICAgICAgICAgICAgICAJCX0gXQ0KICAgICAgICAgICAgICAgIAl9KQ0KICAgICAgICAgICAgICAgIAlpZiAocmVzcG9uc2UuZXJyb3IgPT0gZmFsc2UpIHsNCiAgICAgICAgICAgICAgICAJCXRoaXMucGFzc3dvcmRfb3JpID0gbnVsbA0KICAgICAgICAgICAgICAgIAkJdGhpcy5wYXNzd29yZF9uZXcgPSBudWxsDQogICAgICAgICAgICAgICAgCQl0aGlzLnBhc3N3b3JkX25ld19yZXR5cGUgPSBudWxsDQogICAgICAgICAgICAgICAgCX0NCiAgICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsNCiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvci5yZXNwb25zZSk7DQogICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgc2VsZWN0RmlsZSgpIHsNCiAgICAgICAgICAgIAl0aGlzLmltYWdlX3Byb2ZpbGVfZmlsZSA9IHRoaXMuJHJlZnMuaW1hZ2VfcHJvZmlsZV9maWxlLmZpbGVzDQogICAgICAgICAgICB9LA0KICAgICAgICBhc3luYyBoYW5kbGVTdWJtaXRJbWFnZVByb2ZpbGUoZSl7DQogICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCkNCiAgICAgICAgICAgICAgICB0aGlzLiRyZWZzLm1vZGFsb2suc2hvdygnbG9hZGluZycpDQogICAgICAgICAgICAgICAgdGhpcy4kYXV0aC51cGRhdGVJbWFnZVByb2ZpbGUodGhpcy5pbWFnZV9wcm9maWxlX2ZpbGUpLnRoZW4ocmVzcG9uc2U9PnsNCiAgICAgICAgICAgICAgICAJdGhpcy4kcmVmcy5tb2RhbG9rLnNob3coJ2RpYWxvZycsIA0KICAgICAgICAgICAgICAgIAl7DQogICAgICAgICAgICAgICAgCQl0aXRsZTogImluZm8iLA0KICAgICAgICAgICAgICAgIAkJY29udGVudDogcmVzcG9uc2UubWVzc2FnZSwNCiAgICAgICAgICAgICAgICAJCWJ1dHRvbnM6IFsgDQogICAgICAgICAgICAgICAgCQl7IA0KICAgICAgICAgICAgICAgIAkJCXRpdGxlOiAiY2xvc2UiDQogICAgICAgICAgICAgICAgCQl9IF0NCiAgICAgICAgICAgICAgICAJfSkNCiAgICAgICAgICAgICAgICAJaWYgKHJlc3BvbnNlLmVycm9yID09IGZhbHNlKSB7DQogICAgICAgICAgICAgICAgCQl0aGlzLnVzZXJfaW1hZ2VfcHJvZmlsZSA9IHJlc3BvbnNlLmRhdGFfaW1hZ2VbJ3VybCddDQogICAgICAgICAgICAgICAgCQl0aGlzLiRyZWZzLmltYWdlX3Byb2ZpbGVfZmlsZS52YWx1ZSA9IG51bGw7DQogICAgICAgICAgICAgICAgCX0NCiAgICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsNCiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvci5yZXNwb25zZSk7DQogICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICB9DQogIH0sDQogIGNvbXB1dGVkOiB7DQogIAl2YWxpZERhdGFQVzogZnVuY3Rpb24oKSB7DQogIAkJcmV0dXJuIHRoaXMucGFzc3dvcmRfb3JpICYmIHRoaXMucGFzc3dvcmRfbmV3ICYmIHRoaXMucGFzc3dvcmRfbmV3X3JldHlwZSAmJiAodGhpcy5wYXNzd29yZF9uZXcgPT0gdGhpcy5wYXNzd29yZF9uZXdfcmV0eXBlKQ0KICAJfQ0KICB9LA0KICBhc3luYyBtb3VudGVkKCkgew0KICAJY29uc3QgZGF0YV91c2VyeCA9IGF3YWl0IHRoaXMuJGF1dGguZ2V0SW5mb0F1dGgodGhpcy4kYXV0aC5nZXRBdXRoVGV4dCgpKQ0KICAJdGhpcy5yZW5kZXJEYXRhKGRhdGFfdXNlcngpOw0KICB9DQp9Ow0K"},{"version":3,"sources":["Setting.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Setting.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n  <div class=\"user\">\r\n    <h1>setting - info</h1>\r\n    <label>username</label>\r\n    <input id=\"username\" v-model=\"user_username\" type=\"text\" placeholder=\"Kirito\"><br>\r\n    <label>e-mail</label>\r\n    <input id=\"email\" v-model=\"user_email\" type=\"text\" placeholder=\"kirito@sao.com\"><br>\r\n    <label>nickname</label>\r\n    <input id=\"nickname\" v-model=\"user_nickname\" type=\"text\" placeholder=\"nickname\"><br>\r\n    <label>about</label>\r\n    <textarea v-model=\"user_about\" placeholder=\"about uuu\"></textarea>\r\n    <br>\r\n    <button type=\"submit\" @click=\"handleSubmit\">update info</button>\r\n    <br>\r\n    <br>\r\n    <h1>setting - password</h1>\r\n    <label>old password</label>\r\n    <input id=\"password_ori\" v-model=\"password_ori\" type=\"password\" placeholder=\"old password\"><br>\r\n    <label>new password</label>\r\n    <input id=\"password_new\" v-model=\"password_new\" type=\"password\" placeholder=\"new password\"><br>\r\n    <label>retype new password</label>\r\n    <input id=\"password_new_retype\" v-model=\"password_new_retype\" type=\"password\" placeholder=\"retype new password\">\r\n    <br>\r\n    <button type=\"submit\" :disabled=\"!validDataPW\" @click=\"handleSubmitPW\">update password</button>\r\n    <br>\r\n    <br>\r\n    <h1>setting - image profile</h1>\r\n    <div class=\"center-cropped\"><img v-bind:src=\"user_image_profile\"></div>\r\n    <br>\r\n    <input type=\"file\" ref=\"image_profile_file\" @change=\"selectFile\"><br>\r\n    <button type=\"submit\" :disabled=\"!image_profile_file\" @click=\"handleSubmitImageProfile\">update image profile</button>\r\n    <Modal ref=\"modalok\"></Modal>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Modal from '../modal'\r\nexport default {\r\n  name: \"Setting\",\r\n  data() {\r\n  \treturn {\r\n  \t\tuser_nickname: 'error',\r\n  \t\tuser_username: 'error',\r\n  \t\tuser_email: 'error',\r\n  \t\tuser_about: 'error',\r\n  \t\tuser_image_profile: '/asset/img/profile.jpg',\r\n  \t\tuser_image_banner: 'error',\r\n  \t\tpassword_ori: null,\r\n  \t\tpassword_new: null,\r\n  \t\tpassword_new_retype: null,\r\n  \t\timage_profile_file: null\r\n  \t}\r\n  },\r\n  components: { Modal},\r\n  props: {\r\n    msg: String\r\n  },\r\n  methods: {\r\n  \trenderData(lol) {\r\n  \t\t//console.log(lol);\r\n\t\tthis.user_nickname = lol['data_auth']['data_user']['nickname']\r\n\t\tthis.user_username = lol['data_auth']['data_user']['username']\r\n\t\tthis.user_email = lol['data_auth']['data_user']['email']\r\n\t\tthis.user_about = lol['data_auth']['data_user']['about']\r\n\t\tthis.user_image_profile = lol['data_auth']['data_user']['image_profile']\r\n\t\tthis.user_image_banner = lol['data_auth']['data_user']['image_banner']\r\n  \t},\r\n  \thandleSubmit(e){\r\n                e.preventDefault()\r\n                this.$refs.modalok.show('loading')\r\n                this.$auth.updateInfo(this.user_username, this.user_nickname, this.user_email, this.user_about).then(response=>{\r\n                \tthis.$refs.modalok.show('dialog', \r\n                \t{\r\n                \t\ttitle: \"info\",\r\n                \t\tcontent: response.message,\r\n                \t\tbuttons: [ \r\n                \t\t{ \r\n                \t\t\ttitle: \"close\"\r\n                \t\t} ]\r\n                \t})\r\n                }).catch(function (error) {\r\n                    console.error(error.response);\r\n                });\r\n            },\r\n  \thandleSubmitPW(e){\r\n                e.preventDefault()\r\n                this.$refs.modalok.show('loading')\r\n                this.$auth.updatePassword(this.password_ori, this.password_new, this.password_new_retype).then(response=>{\r\n                \tthis.$refs.modalok.show('dialog', \r\n                \t{\r\n                \t\ttitle: \"info\",\r\n                \t\tcontent: response.message,\r\n                \t\tbuttons: [ \r\n                \t\t{ \r\n                \t\t\ttitle: \"close\"\r\n                \t\t} ]\r\n                \t})\r\n                \tif (response.error == false) {\r\n                \t\tthis.password_ori = null\r\n                \t\tthis.password_new = null\r\n                \t\tthis.password_new_retype = null\r\n                \t}\r\n                }).catch(function (error) {\r\n                    console.error(error.response);\r\n                });\r\n            },\r\n            selectFile() {\r\n            \tthis.image_profile_file = this.$refs.image_profile_file.files\r\n            },\r\n        async handleSubmitImageProfile(e){\r\n            e.preventDefault()\r\n                this.$refs.modalok.show('loading')\r\n                this.$auth.updateImageProfile(this.image_profile_file).then(response=>{\r\n                \tthis.$refs.modalok.show('dialog', \r\n                \t{\r\n                \t\ttitle: \"info\",\r\n                \t\tcontent: response.message,\r\n                \t\tbuttons: [ \r\n                \t\t{ \r\n                \t\t\ttitle: \"close\"\r\n                \t\t} ]\r\n                \t})\r\n                \tif (response.error == false) {\r\n                \t\tthis.user_image_profile = response.data_image['url']\r\n                \t\tthis.$refs.image_profile_file.value = null;\r\n                \t}\r\n                }).catch(function (error) {\r\n                    console.error(error.response);\r\n                });\r\n            }\r\n  },\r\n  computed: {\r\n  \tvalidDataPW: function() {\r\n  \t\treturn this.password_ori && this.password_new && this.password_new_retype && (this.password_new == this.password_new_retype)\r\n  \t}\r\n  },\r\n  async mounted() {\r\n  \tconst data_userx = await this.$auth.getInfoAuth(this.$auth.getAuthText())\r\n  \tthis.renderData(data_userx);\r\n  }\r\n};\r\n</script>"]}]}