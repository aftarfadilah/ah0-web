{"remainingRequest":"C:\\Users\\datoyacx\\ba-ka\\ah0-web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\datoyacx\\ba-ka\\ah0-web\\src\\views\\KamiCreate.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\datoyacx\\ba-ka\\ah0-web\\src\\views\\KamiCreate.vue","mtime":1597277486577},{"path":"C:\\Users\\datoyacx\\ba-ka\\ah0-web\\node_modules\\babel-loader\\lib\\index.js","mtime":1595625183467},{"path":"C:\\Users\\datoyacx\\ba-ka\\ah0-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1595625184265},{"path":"C:\\Users\\datoyacx\\ba-ka\\ah0-web\\node_modules\\vue-loader\\lib\\index.js","mtime":1595625208429}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgTW9kYWwgZnJvbSAiLi4vbW9kYWwiOw0KZXhwb3J0IGRlZmF1bHQgew0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICB0aXRsZTogIiIsDQogICAgICBkZXNjcmlwdGlvbjogIiIsDQogICAgICBzdGF0dXM6ICIiLA0KICAgICAgY29udGVudHlhOiAiIiwNCiAgICAgIGVuYWJsZWQ6IHRydWUNCiAgICB9Ow0KICB9LA0KDQogIGNvbXBvbmVudHM6IHsgTW9kYWwgfSwNCgljb21wdXRlZDogew0KICAgICAgICBjb21waWxlZE1hcmtkb3duOiBmdW5jdGlvbigpIHsNCiAgICAgICAgICAgIHJldHVybiB0aGlzLiRtYXJrZWQodGhpcy5jb250ZW50eWEsIHsgc2FuaXRpemU6IHRydWUgfSk7DQogICAgICAgICAgfSwNCiAgICAgICAgICB2YWxpZERhdGE6IGZ1bmN0aW9uKCkgew0KICAgICAgcmV0dXJuICgNCiAgICAgICAgdGhpcy50aXRsZSAmJg0KICAgICAgICB0aGlzLmRlc2NyaXB0aW9uICYmDQogICAgICAgIHRoaXMuc3RhdHVzICYmDQogICAgICAgIHRoaXMuY29udGVudHlhDQogICAgICApOw0KICAgIH0NCiAgICB9LA0KDQogIG1ldGhvZHM6IHsNCiAgICBtYW50YXBrdW46IGZ1bmN0aW9uKGUpIHsNCiAgICAgIGNvbnNvbGUubG9nKCJ4eCIpDQogICAgICBpZiAoZS5rZXlDb2RlPT0yNykNCiAgICB7DQogICAgICB0aGlzLmVuYWJsZWQgPSAhdGhpcy5lbmFibGVkOw0KICAgICAgcmV0dXJuIGZhbHNlOw0KICAgIH0NCg0KICAgIC8vIEVudGVyIEtleT8NCiAgICBpZiAoZS5rZXlDb2RlID09PSAxMyAmJiB0aGlzLmVuYWJsZWQpDQogICAgew0KICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOw0KICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpOw0KICAgICAgLy8gc2VsZWN0aW9uPw0KICAgICAgaWYgKHRoaXMuc2VsZWN0aW9uU3RhcnQgPT0gdGhpcy5zZWxlY3Rpb25FbmQpDQogICAgICB7DQogICAgICAgIC8vIGZpbmQgc3RhcnQgb2YgdGhlIGN1cnJlbnQgbGluZQ0KICAgICAgICB2YXIgc2VsID0gdGhpcy5zZWxlY3Rpb25TdGFydDsNCiAgICAgICAgdmFyIHRleHR4eCA9IHRoaXMuY29udGVudHlhOw0KICAgICAgICB3aGlsZSAoc2VsID4gMCAmJiB0ZXh0eHhbc2VsLTFdICE9ICdcbicpDQogICAgICAgIHNlbC0tOw0KDQogICAgICAgIHZhciBsaW5lU3RhcnQgPSBzZWw7DQogICAgICAgIHdoaWxlICh0ZXh0eHhbc2VsXSA9PSAnICcgfHwgdGV4dHh4W3NlbF09PSdcdCcpDQogICAgICAgIHNlbCsrOw0KDQogICAgICAgIGlmIChzZWwgPiBsaW5lU3RhcnQpDQogICAgICAgIHsNCiAgICAgICAgICAvLyBJbnNlcnQgY2FycmlhZ2UgcmV0dXJuIGFuZCBpbmRlbnRlZCB0ZXh0DQogICAgICAgICAgZG9jdW1lbnQuZXhlY0NvbW1hbmQoJ2luc2VydFRleHQnLCBmYWxzZSwgIlxuIiArIHRleHR4eC5zdWJzdHIobGluZVN0YXJ0LCBzZWwtbGluZVN0YXJ0KSk7DQoNCiAgICAgICAgICAvLyBTY3JvbGwgY2FyZXQgdmlzaWJsZQ0KICAgICAgICAgIHRoaXMuYmx1cigpOw0KICAgICAgICAgIHRoaXMuZm9jdXMoKTsNCiAgICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICAgIH0NCiAgICAgIH0NCiAgICB9DQoNCiAgICAvLyBUYWIga2V5Pw0KICAgIGlmKGUua2V5Q29kZSA9PT0gOSAmJiB0aGlzLmVuYWJsZWQpIA0KICAgIHsNCiAgICAgIC8vIHNlbGVjdGlvbj8NCiAgICAgIGlmICh0aGlzLnNlbGVjdGlvblN0YXJ0ID09IHRoaXMuc2VsZWN0aW9uRW5kKQ0KICAgICAgew0KICAgICAgICAvLyBUaGVzZSBzaW5nbGUgY2hhcmFjdGVyIG9wZXJhdGlvbnMgYXJlIHVuZG9hYmxlDQogICAgICAgIGlmICghZS5zaGlmdEtleSkNCiAgICAgICAgew0KICAgICAgICAgIGRvY3VtZW50LmV4ZWNDb21tYW5kKCdpbnNlcnRUZXh0JywgZmFsc2UsICJcdCIpOw0KICAgICAgICB9DQogICAgICAgIGVsc2UNCiAgICAgICAgew0KICAgICAgICAgIHZhciB0ZXh0eHgzID0gdGhpcy52YWx1ZTsNCiAgICAgICAgICBpZiAodGhpcy5zZWxlY3Rpb25TdGFydCA+IDAgJiYgdGV4dHh4M1t0aGlzLnNlbGVjdGlvblN0YXJ0LTFdPT0nXHQnKQ0KICAgICAgICAgIHsNCiAgICAgICAgICAgIGRvY3VtZW50LmV4ZWNDb21tYW5kKCdkZWxldGUnKTsNCiAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgIH0NCiAgICAgIGVsc2UNCiAgICAgIHsNCiAgICAgICAgLy8gQmxvY2sgaW5kZW50L3VuaW5kZW50IHRyYXNoZXMgdW5kbyBzdGFjay4NCiAgICAgICAgLy8gU2VsZWN0IHdob2xlIGxpbmVzDQogICAgICAgIHZhciBzZWxTdGFydCA9IHRoaXMuc2VsZWN0aW9uU3RhcnQ7DQogICAgICAgIHZhciBzZWxFbmQgPSB0aGlzLnNlbGVjdGlvbkVuZDsNCiAgICAgICAgdmFyIHRleHR4eDIgPSB0aGlzLmNvbnRlbnR5YTsNCiAgICAgICAgd2hpbGUgKHNlbFN0YXJ0ID4gMCAmJiB0ZXh0eHgyW3NlbFN0YXJ0LTFdICE9ICdcbicpDQogICAgICAgICAgc2VsU3RhcnQtLTsNCiAgICAgICAgd2hpbGUgKHNlbEVuZCA+IDAgJiYgdGV4dHh4MltzZWxFbmQtMV0hPSdcbicgJiYgc2VsRW5kIDwgdGV4dHh4Mi5sZW5ndGgpDQogICAgICAgICAgc2VsRW5kKys7DQoNCiAgICAgICAgLy8gR2V0IHNlbGVjdGVkIHRleHQNCiAgICAgICAgdmFyIGxpbmVzID0gdGV4dHh4Mi5zdWJzdHIoc2VsU3RhcnQsIHNlbEVuZCAtIHNlbFN0YXJ0KS5zcGxpdCgnXG4nKTsNCg0KICAgICAgICAvLyBJbnNlcnQgdGFicw0KICAgICAgICBmb3IgKHZhciBpPTA7IGk8bGluZXMubGVuZ3RoOyBpKyspDQogICAgICAgIHsNCiAgICAgICAgICAvLyBEb24ndCBpbmRlbnQgbGFzdCBsaW5lIGlmIGN1cnNvciBhdCBzdGFydCBvZiBsaW5lDQogICAgICAgICAgaWYgKGk9PWxpbmVzLmxlbmd0aC0xICYmIGxpbmVzW2ldLmxlbmd0aD09MCkNCiAgICAgICAgICAgIGNvbnRpbnVlOw0KDQogICAgICAgICAgLy8gVGFiIG9yIFNoaWZ0K1RhYj8NCiAgICAgICAgICBpZiAoZS5zaGlmdEtleSkNCiAgICAgICAgICB7DQogICAgICAgICAgICBpZiAobGluZXNbaV0uc3RhcnRzV2l0aCgnXHQnKSkNCiAgICAgICAgICAgICAgbGluZXNbaV0gPSBsaW5lc1tpXS5zdWJzdHIoMSk7DQogICAgICAgICAgICBlbHNlIGlmIChsaW5lc1tpXS5zdGFydHNXaXRoKCIgICAgIikpDQogICAgICAgICAgICAgIGxpbmVzW2ldID0gbGluZXNbaV0uc3Vic3RyKDQpOw0KICAgICAgICAgIH0NCiAgICAgICAgICBlbHNlDQogICAgICAgICAgICBsaW5lc1tpXSA9ICJcdCIgKyBsaW5lc1tpXTsNCiAgICAgICAgfQ0KICAgICAgICBsaW5lcyA9IGxpbmVzLmpvaW4oJ1xuJyk7DQoNCiAgICAgICAgLy8gVXBkYXRlIHRoZSB0ZXh0IGFyZWENCiAgICAgICAgdGhpcy52YWx1ZSA9IHRleHR4eDIuc3Vic3RyKDAsIHNlbFN0YXJ0KSArIGxpbmVzICsgdGV4dHh4Mi5zdWJzdHIoc2VsRW5kKTsNCiAgICAgICAgdGhpcy5zZWxlY3Rpb25TdGFydCA9IHNlbFN0YXJ0Ow0KICAgICAgICB0aGlzLnNlbGVjdGlvbkVuZCA9IHNlbFN0YXJ0ICsgbGluZXMubGVuZ3RoOyANCiAgICAgIH0NCg0KICAgICAgcmV0dXJuIGZhbHNlOw0KICAgIH0NCg0KICAgIHRoaXMuZW5hYmxlZCA9IHRydWU7DQogICAgcmV0dXJuIHRydWU7DQogICAgfSwNCiAgCWhhbmRsZVN1Ym1pdChlKSB7DQogICAgICBlLnByZXZlbnREZWZhdWx0KCk7DQogICAgICB0aGlzLiRyZWZzLm1vZGFsb2suc2hvdygibG9hZGluZyIpOw0KICAgICAgdGhpcy4kYXV0aA0KICAgICAgICAuY3JlYXRla2FtaSh0aGlzLnRpdGxlLCB0aGlzLmRlc2NyaXB0aW9uLCB0aGlzLnN0YXR1cywgdGhpcy5jb250ZW50eWEpDQogICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHsNCiAgICAgICAgICBpZiAocmVzcG9uc2UuZXJyb3IpIHsNCiAgICAgICAgICAgIHRoaXMuJHJlZnMubW9kYWxvay5zaG93KCJkaWFsb2ciLCB7DQogICAgICAgICAgICAgIHRpdGxlOiAiaW5mbyIsDQogICAgICAgICAgICAgIGNvbnRlbnQ6IHJlc3BvbnNlLm1lc3NhZ2UsDQogICAgICAgICAgICAgIGJ1dHRvbnM6IFsNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICB0aXRsZTogImNsb3NlIg0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgXQ0KICAgICAgICAgICAgfSk7DQogICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgIHRoaXMuJHJlZnMubW9kYWxvay5zaG93KCJkaWFsb2ciLCB7DQogICAgICAgICAgICAgIHRpdGxlOiAiaW5mbyIsDQogICAgICAgICAgICAgIGNvbnRlbnQ6IHJlc3BvbnNlLm1lc3NhZ2UsDQogICAgICAgICAgICAgIGJ1dHRvbnM6IFsNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICB0aXRsZTogImNsb3NlIiwNCiAgICAgICAgICAgICAgICAgIGhhbmRsZXI6ICgpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2gocmVzcG9uc2UuY29kZXVybCk7DQogICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICBdDQogICAgICAgICAgICB9KTsNCiAgICAgICAgICB9DQogICAgICAgIH0pDQogICAgICAgIC5jYXRjaChmdW5jdGlvbihlcnJvcikgew0KICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IucmVzcG9uc2UpOw0KICAgICAgICB9KTsNCiAgICB9DQogIH0NCn07DQo="},{"version":3,"sources":["KamiCreate.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"KamiCreate.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n  <div class=\"user\">\r\n    <h1>kami create</h1>\r\n    <table class=\"fit-form\">\r\n      <tr>\r\n        <td width=\"130\"><label>title</label></td>\r\n        <td>:</td>\r\n        <td>\r\n          <input\r\n            required\r\n            id=\"title\"\r\n            v-model=\"title\"\r\n            type=\"text\"\r\n            placeholder=\"my story about love\"\r\n          />\r\n        </td>\r\n      </tr>\r\n      <tr>\r\n        <td><label>description</label></td>\r\n        <td>:</td>\r\n        <td>\r\n        \t<textarea v-model=\"description\" id=\"description\" placeholder=\"this is story about young boy who stupid and .....\"></textarea>\r\n        </td>\r\n      </tr>\r\n      <tr>\r\n        <td><label>status</label></td>\r\n        <td>:</td>\r\n        <td>\r\n        \t<select id=\"status\" v-model=\"status\">\r\n        \t\t<option name=\"private\">private</option>\r\n        \t\t<option name=\"unlist\">unlist</option>\r\n        \t\t<option name=\"profile\">only on profile</option>\r\n        \t\t<option name=\"public\">public</option>\r\n        \t</select>\r\n        </td>\r\n      </tr>\r\n      <tr>\r\n        <td><label>content</label></td>\r\n        <td>:</td>\r\n        <td>\r\n          <textarea @keyup.tab=\"mantapkun\" placeholder=\"hey, this is my story ....\" v-model=\"contentya\"></textarea>\r\n        </td>\r\n      </tr>\r\n      <tr>\r\n        <td colspan=\"3\">\r\n          <button style=\"float: right;\" :disabled=\"!validData\" type=\"submit\" @click=\"handleSubmit\">\r\n            post ye\r\n          </button>\r\n        </td>\r\n      </tr>\r\n    </table>\r\n\r\n    <h3>preview</h3>\r\n    <div v-html=\"compiledMarkdown\"></div>\r\n\r\n    <Modal ref=\"modalok\"></Modal>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Modal from \"../modal\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      title: \"\",\r\n      description: \"\",\r\n      status: \"\",\r\n      contentya: \"\",\r\n      enabled: true\r\n    };\r\n  },\r\n\r\n  components: { Modal },\r\n\tcomputed: {\r\n        compiledMarkdown: function() {\r\n            return this.$marked(this.contentya, { sanitize: true });\r\n          },\r\n          validData: function() {\r\n      return (\r\n        this.title &&\r\n        this.description &&\r\n        this.status &&\r\n        this.contentya\r\n      );\r\n    }\r\n    },\r\n\r\n  methods: {\r\n    mantapkun: function(e) {\r\n      console.log(\"xx\")\r\n      if (e.keyCode==27)\r\n    {\r\n      this.enabled = !this.enabled;\r\n      return false;\r\n    }\r\n\r\n    // Enter Key?\r\n    if (e.keyCode === 13 && this.enabled)\r\n    {\r\n      e.preventDefault();\r\n        e.stopPropagation();\r\n      // selection?\r\n      if (this.selectionStart == this.selectionEnd)\r\n      {\r\n        // find start of the current line\r\n        var sel = this.selectionStart;\r\n        var textxx = this.contentya;\r\n        while (sel > 0 && textxx[sel-1] != '\\n')\r\n        sel--;\r\n\r\n        var lineStart = sel;\r\n        while (textxx[sel] == ' ' || textxx[sel]=='\\t')\r\n        sel++;\r\n\r\n        if (sel > lineStart)\r\n        {\r\n          // Insert carriage return and indented text\r\n          document.execCommand('insertText', false, \"\\n\" + textxx.substr(lineStart, sel-lineStart));\r\n\r\n          // Scroll caret visible\r\n          this.blur();\r\n          this.focus();\r\n          return false;\r\n        }\r\n      }\r\n    }\r\n\r\n    // Tab key?\r\n    if(e.keyCode === 9 && this.enabled) \r\n    {\r\n      // selection?\r\n      if (this.selectionStart == this.selectionEnd)\r\n      {\r\n        // These single character operations are undoable\r\n        if (!e.shiftKey)\r\n        {\r\n          document.execCommand('insertText', false, \"\\t\");\r\n        }\r\n        else\r\n        {\r\n          var textxx3 = this.value;\r\n          if (this.selectionStart > 0 && textxx3[this.selectionStart-1]=='\\t')\r\n          {\r\n            document.execCommand('delete');\r\n          }\r\n        }\r\n      }\r\n      else\r\n      {\r\n        // Block indent/unindent trashes undo stack.\r\n        // Select whole lines\r\n        var selStart = this.selectionStart;\r\n        var selEnd = this.selectionEnd;\r\n        var textxx2 = this.contentya;\r\n        while (selStart > 0 && textxx2[selStart-1] != '\\n')\r\n          selStart--;\r\n        while (selEnd > 0 && textxx2[selEnd-1]!='\\n' && selEnd < textxx2.length)\r\n          selEnd++;\r\n\r\n        // Get selected text\r\n        var lines = textxx2.substr(selStart, selEnd - selStart).split('\\n');\r\n\r\n        // Insert tabs\r\n        for (var i=0; i<lines.length; i++)\r\n        {\r\n          // Don't indent last line if cursor at start of line\r\n          if (i==lines.length-1 && lines[i].length==0)\r\n            continue;\r\n\r\n          // Tab or Shift+Tab?\r\n          if (e.shiftKey)\r\n          {\r\n            if (lines[i].startsWith('\\t'))\r\n              lines[i] = lines[i].substr(1);\r\n            else if (lines[i].startsWith(\"    \"))\r\n              lines[i] = lines[i].substr(4);\r\n          }\r\n          else\r\n            lines[i] = \"\\t\" + lines[i];\r\n        }\r\n        lines = lines.join('\\n');\r\n\r\n        // Update the text area\r\n        this.value = textxx2.substr(0, selStart) + lines + textxx2.substr(selEnd);\r\n        this.selectionStart = selStart;\r\n        this.selectionEnd = selStart + lines.length; \r\n      }\r\n\r\n      return false;\r\n    }\r\n\r\n    this.enabled = true;\r\n    return true;\r\n    },\r\n  \thandleSubmit(e) {\r\n      e.preventDefault();\r\n      this.$refs.modalok.show(\"loading\");\r\n      this.$auth\r\n        .createkami(this.title, this.description, this.status, this.contentya)\r\n        .then(response => {\r\n          if (response.error) {\r\n            this.$refs.modalok.show(\"dialog\", {\r\n              title: \"info\",\r\n              content: response.message,\r\n              buttons: [\r\n                {\r\n                  title: \"close\"\r\n                }\r\n              ]\r\n            });\r\n          } else {\r\n            this.$refs.modalok.show(\"dialog\", {\r\n              title: \"info\",\r\n              content: response.message,\r\n              buttons: [\r\n                {\r\n                  title: \"close\",\r\n                  handler: () => {\r\n                    this.$router.push(response.codeurl);\r\n                  }\r\n                }\r\n              ]\r\n            });\r\n          }\r\n        })\r\n        .catch(function(error) {\r\n          console.error(error.response);\r\n        });\r\n    }\r\n  }\r\n};\r\n</script>\r\n"]}]}