{"remainingRequest":"C:\\Users\\datoyacx\\ba-ka\\ah0-web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\datoyacx\\ba-ka\\ah0-web\\src\\views\\Setting.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\datoyacx\\ba-ka\\ah0-web\\src\\views\\Setting.vue","mtime":1595625210085},{"path":"C:\\Users\\datoyacx\\ba-ka\\ah0-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1595625184265},{"path":"C:\\Users\\datoyacx\\ba-ka\\ah0-web\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1595625207701},{"path":"C:\\Users\\datoyacx\\ba-ka\\ah0-web\\node_modules\\babel-loader\\lib\\index.js","mtime":1595625183467},{"path":"C:\\Users\\datoyacx\\ba-ka\\ah0-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1595625184265},{"path":"C:\\Users\\datoyacx\\ba-ka\\ah0-web\\node_modules\\vue-loader\\lib\\index.js","mtime":1595625208429}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgTW9kYWwgZnJvbSAiLi4vbW9kYWwiOw0KZXhwb3J0IGRlZmF1bHQgew0KICBuYW1lOiAiU2V0dGluZyIsDQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIHVzZXJfbmlja25hbWU6ICJlcnJvciIsDQogICAgICB1c2VyX3VzZXJuYW1lOiAiZXJyb3IiLA0KICAgICAgdXNlcl9lbWFpbDogImVycm9yIiwNCiAgICAgIHVzZXJfYWJvdXQ6ICJlcnJvciIsDQogICAgICB1c2VyX2ltYWdlX3Byb2ZpbGU6ICIvYXNzZXQvaW1nL3Byb2ZpbGUuanBnIiwNCiAgICAgIHVzZXJfaW1hZ2VfYmFubmVyOiAiZXJyb3IiLA0KICAgICAgcGFzc3dvcmRfb3JpOiBudWxsLA0KICAgICAgcGFzc3dvcmRfbmV3OiBudWxsLA0KICAgICAgcGFzc3dvcmRfbmV3X3JldHlwZTogbnVsbCwNCiAgICAgIGltYWdlX3Byb2ZpbGVfZmlsZTogbnVsbA0KICAgIH07DQogIH0sDQogIGNvbXBvbmVudHM6IHsgTW9kYWwgfSwNCiAgcHJvcHM6IHsNCiAgICBtc2c6IFN0cmluZw0KICB9LA0KICBtZXRob2RzOiB7DQogICAgcmVuZGVyRGF0YShsb2wpIHsNCiAgICAgIC8vY29uc29sZS5sb2cobG9sKTsNCiAgICAgIHRoaXMudXNlcl9uaWNrbmFtZSA9IGxvbFsiZGF0YV9hdXRoIl1bImRhdGFfdXNlciJdWyJuaWNrbmFtZSJdOw0KICAgICAgdGhpcy51c2VyX3VzZXJuYW1lID0gbG9sWyJkYXRhX2F1dGgiXVsiZGF0YV91c2VyIl1bInVzZXJuYW1lIl07DQogICAgICB0aGlzLnVzZXJfZW1haWwgPSBsb2xbImRhdGFfYXV0aCJdWyJkYXRhX3VzZXIiXVsiZW1haWwiXTsNCiAgICAgIHRoaXMudXNlcl9hYm91dCA9IGxvbFsiZGF0YV9hdXRoIl1bImRhdGFfdXNlciJdWyJhYm91dCJdOw0KICAgICAgdGhpcy51c2VyX2ltYWdlX3Byb2ZpbGUgPSBsb2xbImRhdGFfYXV0aCJdWyJkYXRhX3VzZXIiXVsiaW1hZ2VfcHJvZmlsZSJdOw0KICAgICAgdGhpcy51c2VyX2ltYWdlX2Jhbm5lciA9IGxvbFsiZGF0YV9hdXRoIl1bImRhdGFfdXNlciJdWyJpbWFnZV9iYW5uZXIiXTsNCiAgICB9LA0KICAgIGhhbmRsZVN1Ym1pdChlKSB7DQogICAgICBlLnByZXZlbnREZWZhdWx0KCk7DQogICAgICB0aGlzLiRyZWZzLm1vZGFsb2suc2hvdygibG9hZGluZyIpOw0KICAgICAgdGhpcy4kYXV0aA0KICAgICAgICAudXBkYXRlSW5mbygNCiAgICAgICAgICB0aGlzLnVzZXJfdXNlcm5hbWUsDQogICAgICAgICAgdGhpcy51c2VyX25pY2tuYW1lLA0KICAgICAgICAgIHRoaXMudXNlcl9lbWFpbCwNCiAgICAgICAgICB0aGlzLnVzZXJfYWJvdXQNCiAgICAgICAgKQ0KICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7DQogICAgICAgICAgdGhpcy4kcmVmcy5tb2RhbG9rLnNob3coImRpYWxvZyIsIHsNCiAgICAgICAgICAgIHRpdGxlOiAiaW5mbyIsDQogICAgICAgICAgICBjb250ZW50OiByZXNwb25zZS5tZXNzYWdlLA0KICAgICAgICAgICAgYnV0dG9uczogWw0KICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgdGl0bGU6ICJjbG9zZSINCiAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgXQ0KICAgICAgICAgIH0pOw0KICAgICAgICB9KQ0KICAgICAgICAuY2F0Y2goZnVuY3Rpb24oZXJyb3IpIHsNCiAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yLnJlc3BvbnNlKTsNCiAgICAgICAgfSk7DQogICAgfSwNCiAgICBoYW5kbGVTdWJtaXRQVyhlKSB7DQogICAgICBlLnByZXZlbnREZWZhdWx0KCk7DQogICAgICB0aGlzLiRyZWZzLm1vZGFsb2suc2hvdygibG9hZGluZyIpOw0KICAgICAgdGhpcy4kYXV0aA0KICAgICAgICAudXBkYXRlUGFzc3dvcmQoDQogICAgICAgICAgdGhpcy5wYXNzd29yZF9vcmksDQogICAgICAgICAgdGhpcy5wYXNzd29yZF9uZXcsDQogICAgICAgICAgdGhpcy5wYXNzd29yZF9uZXdfcmV0eXBlDQogICAgICAgICkNCiAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gew0KICAgICAgICAgIHRoaXMuJHJlZnMubW9kYWxvay5zaG93KCJkaWFsb2ciLCB7DQogICAgICAgICAgICB0aXRsZTogImluZm8iLA0KICAgICAgICAgICAgY29udGVudDogcmVzcG9uc2UubWVzc2FnZSwNCiAgICAgICAgICAgIGJ1dHRvbnM6IFsNCiAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgIHRpdGxlOiAiY2xvc2UiDQogICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIF0NCiAgICAgICAgICB9KTsNCiAgICAgICAgICBpZiAocmVzcG9uc2UuZXJyb3IgPT0gZmFsc2UpIHsNCiAgICAgICAgICAgIHRoaXMucGFzc3dvcmRfb3JpID0gbnVsbDsNCiAgICAgICAgICAgIHRoaXMucGFzc3dvcmRfbmV3ID0gbnVsbDsNCiAgICAgICAgICAgIHRoaXMucGFzc3dvcmRfbmV3X3JldHlwZSA9IG51bGw7DQogICAgICAgICAgfQ0KICAgICAgICB9KQ0KICAgICAgICAuY2F0Y2goZnVuY3Rpb24oZXJyb3IpIHsNCiAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yLnJlc3BvbnNlKTsNCiAgICAgICAgfSk7DQogICAgfSwNCiAgICBzZWxlY3RGaWxlKCkgew0KICAgICAgdGhpcy5pbWFnZV9wcm9maWxlX2ZpbGUgPSB0aGlzLiRyZWZzLmltYWdlX3Byb2ZpbGVfZmlsZS5maWxlczsNCiAgICB9LA0KICAgIGFzeW5jIGhhbmRsZVN1Ym1pdEltYWdlUHJvZmlsZShlKSB7DQogICAgICBlLnByZXZlbnREZWZhdWx0KCk7DQogICAgICB0aGlzLiRyZWZzLm1vZGFsb2suc2hvdygibG9hZGluZyIpOw0KICAgICAgdGhpcy4kYXV0aA0KICAgICAgICAudXBkYXRlSW1hZ2VQcm9maWxlKHRoaXMuaW1hZ2VfcHJvZmlsZV9maWxlKQ0KICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7DQogICAgICAgICAgdGhpcy4kcmVmcy5tb2RhbG9rLnNob3coImRpYWxvZyIsIHsNCiAgICAgICAgICAgIHRpdGxlOiAiaW5mbyIsDQogICAgICAgICAgICBjb250ZW50OiByZXNwb25zZS5tZXNzYWdlLA0KICAgICAgICAgICAgYnV0dG9uczogWw0KICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgdGl0bGU6ICJjbG9zZSINCiAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgXQ0KICAgICAgICAgIH0pOw0KICAgICAgICAgIGlmIChyZXNwb25zZS5lcnJvciA9PSBmYWxzZSkgew0KICAgICAgICAgICAgdGhpcy51c2VyX2ltYWdlX3Byb2ZpbGUgPSByZXNwb25zZS5kYXRhX2ltYWdlWyJ1cmwiXTsNCiAgICAgICAgICAgIHRoaXMuJHJlZnMuaW1hZ2VfcHJvZmlsZV9maWxlLnZhbHVlID0gbnVsbDsNCiAgICAgICAgICB9DQogICAgICAgIH0pDQogICAgICAgIC5jYXRjaChmdW5jdGlvbihlcnJvcikgew0KICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IucmVzcG9uc2UpOw0KICAgICAgICB9KTsNCiAgICB9DQogIH0sDQogIGNvbXB1dGVkOiB7DQogICAgdmFsaWREYXRhUFc6IGZ1bmN0aW9uKCkgew0KICAgICAgcmV0dXJuICgNCiAgICAgICAgdGhpcy5wYXNzd29yZF9vcmkgJiYNCiAgICAgICAgdGhpcy5wYXNzd29yZF9uZXcgJiYNCiAgICAgICAgdGhpcy5wYXNzd29yZF9uZXdfcmV0eXBlICYmDQogICAgICAgIHRoaXMucGFzc3dvcmRfbmV3ID09IHRoaXMucGFzc3dvcmRfbmV3X3JldHlwZQ0KICAgICAgKTsNCiAgICB9DQogIH0sDQogIGFzeW5jIG1vdW50ZWQoKSB7DQogICAgY29uc3QgZGF0YV91c2VyeCA9IGF3YWl0IHRoaXMuJGF1dGguZ2V0SW5mb0F1dGgodGhpcy4kYXV0aC5nZXRBdXRoVGV4dCgpKTsNCiAgICB0aGlzLnJlbmRlckRhdGEoZGF0YV91c2VyeCk7DQogIH0NCn07DQo="},{"version":3,"sources":["Setting.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Setting.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n  <div class=\"user\">\r\n    <h1>setting - info</h1>\r\n    <label>username</label>\r\n    <input\r\n      id=\"username\"\r\n      v-model=\"user_username\"\r\n      type=\"text\"\r\n      placeholder=\"Kirito\"\r\n    /><br />\r\n    <label>e-mail</label>\r\n    <input\r\n      id=\"email\"\r\n      v-model=\"user_email\"\r\n      type=\"text\"\r\n      placeholder=\"kirito@sao.com\"\r\n    /><br />\r\n    <label>nickname</label>\r\n    <input\r\n      id=\"nickname\"\r\n      v-model=\"user_nickname\"\r\n      type=\"text\"\r\n      placeholder=\"nickname\"\r\n    /><br />\r\n    <label>about</label>\r\n    <textarea v-model=\"user_about\" placeholder=\"about uuu\"></textarea>\r\n    <br />\r\n    <button type=\"submit\" @click=\"handleSubmit\">update info</button>\r\n    <br />\r\n    <br />\r\n    <h1>setting - password</h1>\r\n    <label>old password</label>\r\n    <input\r\n      id=\"password_ori\"\r\n      v-model=\"password_ori\"\r\n      type=\"password\"\r\n      placeholder=\"old password\"\r\n    /><br />\r\n    <label>new password</label>\r\n    <input\r\n      id=\"password_new\"\r\n      v-model=\"password_new\"\r\n      type=\"password\"\r\n      placeholder=\"new password\"\r\n    /><br />\r\n    <label>retype new password</label>\r\n    <input\r\n      id=\"password_new_retype\"\r\n      v-model=\"password_new_retype\"\r\n      type=\"password\"\r\n      placeholder=\"retype new password\"\r\n    />\r\n    <br />\r\n    <button type=\"submit\" :disabled=\"!validDataPW\" @click=\"handleSubmitPW\">\r\n      update password\r\n    </button>\r\n    <br />\r\n    <br />\r\n    <h1>setting - image profile</h1>\r\n    <div class=\"center-cropped\"><img v-bind:src=\"user_image_profile\" /></div>\r\n    <br />\r\n    <input type=\"file\" ref=\"image_profile_file\" @change=\"selectFile\" /><br />\r\n    <button\r\n      type=\"submit\"\r\n      :disabled=\"!image_profile_file\"\r\n      @click=\"handleSubmitImageProfile\"\r\n    >\r\n      update image profile\r\n    </button>\r\n    <Modal ref=\"modalok\"></Modal>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Modal from \"../modal\";\r\nexport default {\r\n  name: \"Setting\",\r\n  data() {\r\n    return {\r\n      user_nickname: \"error\",\r\n      user_username: \"error\",\r\n      user_email: \"error\",\r\n      user_about: \"error\",\r\n      user_image_profile: \"/asset/img/profile.jpg\",\r\n      user_image_banner: \"error\",\r\n      password_ori: null,\r\n      password_new: null,\r\n      password_new_retype: null,\r\n      image_profile_file: null\r\n    };\r\n  },\r\n  components: { Modal },\r\n  props: {\r\n    msg: String\r\n  },\r\n  methods: {\r\n    renderData(lol) {\r\n      //console.log(lol);\r\n      this.user_nickname = lol[\"data_auth\"][\"data_user\"][\"nickname\"];\r\n      this.user_username = lol[\"data_auth\"][\"data_user\"][\"username\"];\r\n      this.user_email = lol[\"data_auth\"][\"data_user\"][\"email\"];\r\n      this.user_about = lol[\"data_auth\"][\"data_user\"][\"about\"];\r\n      this.user_image_profile = lol[\"data_auth\"][\"data_user\"][\"image_profile\"];\r\n      this.user_image_banner = lol[\"data_auth\"][\"data_user\"][\"image_banner\"];\r\n    },\r\n    handleSubmit(e) {\r\n      e.preventDefault();\r\n      this.$refs.modalok.show(\"loading\");\r\n      this.$auth\r\n        .updateInfo(\r\n          this.user_username,\r\n          this.user_nickname,\r\n          this.user_email,\r\n          this.user_about\r\n        )\r\n        .then(response => {\r\n          this.$refs.modalok.show(\"dialog\", {\r\n            title: \"info\",\r\n            content: response.message,\r\n            buttons: [\r\n              {\r\n                title: \"close\"\r\n              }\r\n            ]\r\n          });\r\n        })\r\n        .catch(function(error) {\r\n          console.error(error.response);\r\n        });\r\n    },\r\n    handleSubmitPW(e) {\r\n      e.preventDefault();\r\n      this.$refs.modalok.show(\"loading\");\r\n      this.$auth\r\n        .updatePassword(\r\n          this.password_ori,\r\n          this.password_new,\r\n          this.password_new_retype\r\n        )\r\n        .then(response => {\r\n          this.$refs.modalok.show(\"dialog\", {\r\n            title: \"info\",\r\n            content: response.message,\r\n            buttons: [\r\n              {\r\n                title: \"close\"\r\n              }\r\n            ]\r\n          });\r\n          if (response.error == false) {\r\n            this.password_ori = null;\r\n            this.password_new = null;\r\n            this.password_new_retype = null;\r\n          }\r\n        })\r\n        .catch(function(error) {\r\n          console.error(error.response);\r\n        });\r\n    },\r\n    selectFile() {\r\n      this.image_profile_file = this.$refs.image_profile_file.files;\r\n    },\r\n    async handleSubmitImageProfile(e) {\r\n      e.preventDefault();\r\n      this.$refs.modalok.show(\"loading\");\r\n      this.$auth\r\n        .updateImageProfile(this.image_profile_file)\r\n        .then(response => {\r\n          this.$refs.modalok.show(\"dialog\", {\r\n            title: \"info\",\r\n            content: response.message,\r\n            buttons: [\r\n              {\r\n                title: \"close\"\r\n              }\r\n            ]\r\n          });\r\n          if (response.error == false) {\r\n            this.user_image_profile = response.data_image[\"url\"];\r\n            this.$refs.image_profile_file.value = null;\r\n          }\r\n        })\r\n        .catch(function(error) {\r\n          console.error(error.response);\r\n        });\r\n    }\r\n  },\r\n  computed: {\r\n    validDataPW: function() {\r\n      return (\r\n        this.password_ori &&\r\n        this.password_new &&\r\n        this.password_new_retype &&\r\n        this.password_new == this.password_new_retype\r\n      );\r\n    }\r\n  },\r\n  async mounted() {\r\n    const data_userx = await this.$auth.getInfoAuth(this.$auth.getAuthText());\r\n    this.renderData(data_userx);\r\n  }\r\n};\r\n</script>\r\n"]}]}